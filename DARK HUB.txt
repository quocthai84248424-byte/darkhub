local _0xConfig = {
    Author = "ilovedog1901ilovecat5551",
    Discord = "https://discord.gg/xawrhjKP",
    MainImg = "rbxassetid://6750058763"
}

local _0xMT = getrawmetatable(game)
local _0xOldNC = _0xMT.__namecall
setreadonly(_0xMT, false)
_0xMT.__namecall = newcclosure(function(self, ...)
    local method = getnamecallmethod()
    if not checkcaller() and (method == "Kick" or method == "Log" or method == "Report") then return nil end
    return _0xOldNC(self, ...)
end)
setreadonly(_0xMT, true)

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local _LP = game.Players.LocalPlayer
local _RS = game:GetService("ReplicatedStorage")
local _RUN = game:GetService("RunService")
local _WS = game:GetService("Workspace")

local Window = Fluent:CreateWindow({
    Title = "DARK HUB | FORSAKEN",
    SubTitle = "script by " .. _0xConfig.Author,
    TabWidth = 140,
    Size = UDim2.fromOffset(580, 480),
    Acrylic = false,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.RightControl
})

local function _0xApplyPurple()
    local _Main = Window.Main
    _Main.BackgroundColor3 = Color3.fromRGB(35, 25, 55)
    local _Img = Instance.new("ImageLabel", _Main)
    _Img.Size = UDim2.new(1, 0, 1, 0)
    _Img.Image = _0xConfig.MainImg
    _Img.ImageTransparency = 0.2
    _Img.ScaleType = Enum.ScaleType.Fill
    _Img.ZIndex = -1
    _Img.BackgroundColor3 = Color3.fromRGB(35, 25, 55)

    local _Btn = Instance.new("TextButton", game:GetService("CoreGui"))
    _Btn.Name = "DarkHubToggle"
    _Btn.Size = UDim2.new(0, 120, 0, 50)
    _Btn.Position = UDim2.new(0.5, -60, 0.02, 0)
    _Btn.Text = "DARK HUB"
    _Btn.Font = Enum.Font.GothamBold
    _Btn.TextSize = 20
    _Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    _Btn.BackgroundTransparency = 0.2
    _Btn.BackgroundColor3 = Color3.fromRGB(80, 50, 120)
    local _Cr = Instance.new("UICorner", _Btn)
    _Cr.CornerRadius = UDim.new(0, 12)
    _Btn.Draggable = true
    _Btn.Active = true
    _Btn.MouseButton1Click:Connect(function() Window:Minimize() end)
end

task.wait(0.5)

local Tabs = {
    Info = Window:AddTab({ Title = "Info", Icon = "info" }),
    Farm = Window:AddTab({ Title = "Farm", Icon = "home" }),
    Main = Window:AddTab({ Title = "Main", Icon = "swords" }),
    Player = Window:AddTab({ Title = "Player", Icon = "user" }),
    Visual = Window:AddTab({ Title = "Visual", Icon = "eye" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
}

local _0xO = Fluent.Options
_0xApplyPurple()

Tabs.Info:AddParagraph({Title = "DARK HUB", Content = "Script Created by: " .. _0xConfig.Author .. "\nDiscord: " .. _0xConfig.Discord})

Tabs.Farm:AddSection("**SURVIVOR FARM**")
Tabs.Farm:AddToggle("AutoFixGen", {Title = "Auto Fix Gen (Teleport)", Default = false})
Tabs.Farm:AddSlider("GenDelay", {Title = "Puzzle Delay Time", Default = 1, Min = 0.1, Max = 5, Rounding = 1})
Tabs.Farm:AddToggle("RepairGen", {Title = "Repair Gen (Auto Walk)", Default = false})
Tabs.Farm:AddButton({
    Title = "Finish Gen (Instant Progress)",
    Callback = function()
        for i = 1, 4 do _RS.Events.CompleteGen:FireServer() end
    end
})

Tabs.Farm:AddSection("**KILLER FARM**")
Tabs.Farm:AddToggle("AutoKillV1", {Title = "Auto Kill Survivor (Teleport)", Default = false})
Tabs.Farm:AddToggle("AutoKillV2", {Title = "Auto Kill Survivor (Auto Run)", Default = false})

Tabs.Main:AddSection("**SHEDLETSKY**")
Tabs.Main:AddToggle("AutoSlash", {Title = "Auto Slash (TP Back)", Default = false})
Tabs.Main:AddToggle("AutoEatChicken", {Title = "Auto Eat Chicken", Default = false})

Tabs.Main:AddSection("**GUEST**")
Tabs.Main:AddToggle("AutoBlock", {Title = "Auto Block (Super Fast)", Default = false})
Tabs.Main:AddInput("BlockRange", {Title = "Block Range", Default = "15"})
Tabs.Main:AddToggle("VisualRange", {Title = "Visual Range Block", Default = false})
Tabs.Main:AddToggle("AutoPunch", {Title = "Auto Punch (0.7s After Block)", Default = false})
Tabs.Main:AddToggle("AimPunch", {Title = "Aim Punch (High Accuracy)", Default = false})

Tabs.Main:AddSection("**TWO TIME**")
Tabs.Main:AddToggle("AutoBackstab", {Title = "Auto Backstab (Skill 2+1)", Default = false})
Tabs.Main:AddInput("BackRange", {Title = "Backstab Range (0-5)", Default = "5"})

Tabs.Main:AddSection("**ELIOT**")
Tabs.Main:AddToggle("AutoGivePizza", {Title = "Auto Give Pizza (Aim Mode)", Default = false})

Tabs.Player:AddSection("**HITBOX (TELE SÁT THƯƠNG)**")
Tabs.Player:AddSlider("HitboxSize", {Title = "Hitbox Multiplier", Default = 10, Min = 10, Max = 100, Rounding = 0})

Tabs.Player:AddSection("**ANIMATION FAKE**")
Tabs.Player:AddDropdown("AnimSelect", {Title = "Select Animation", Values = {"Slasher", "Coolkid", "1x1x1x1", "VIP Killer"}, Default = "Slasher"})
Tabs.Player:AddButton({Title = "Apply Animation", Callback = function() 
    pcall(function()
        local id = "rbxassetid://0"
        for _, v in pairs(game.Players:GetPlayers()) do
            if v ~= _LP and v.Character then id = v.Character.Animate.idle.Animation1.AnimationId end
        end
        _LP.Character.Animate.idle.Animation1.AnimationId = id
    end)
end})

Tabs.Player:AddSection("**SPEED**")
Tabs.Player:AddInput("WalkSpeed", {Title = "Speed (Default 24)", Default = "24"})

Tabs.Player:AddSection("**EMOJI**")
Tabs.Player:AddDropdown("EmojiList", {Title = "Select Emoji", Values = {"Dance", "Wave", "Laugh"}, Default = "Dance"})
Tabs.Player:AddButton({Title = "Use Emoji", Callback = function() _RS.Events.PlayEmoji:FireServer(_0xO.EmojiList.Value) end})

Tabs.Visual:AddSection("**ESP SURVIVOR**")
Tabs.Visual:AddToggle("ESPSurv", {Title = "ESP Survivor (Green)", Default = false})
Tabs.Visual:AddSection("**ESP KILLER**")
Tabs.Visual:AddToggle("ESPKiller", {Title = "ESP Killer (Red)", Default = false})
Tabs.Visual:AddSection("**ESP GENERATOR**")
Tabs.Visual:AddToggle("ESPGen", {Title = "ESP Gen (Yellow/Fake)", Default = false})
Tabs.Visual:AddSection("**ESP ITEMS**")
Tabs.Visual:AddToggle("ESPItem", {Title = "ESP Items (White)", Default = false})

Tabs.Settings:AddToggle("AutoExc", {Title = "Auto Execute", Default = false})
Tabs.Settings:AddToggle("LightMode", {Title = "Lightning Mode", Default = false})
Tabs.Settings:AddToggle("FPSBoost", {Title = "FPS Boost", Default = false})

local function _GetTarget()
    local t = nil
    local d = _0xO.HitboxSize.Value
    for _, v in pairs(game.Players:GetPlayers()) do
        if v ~= _LP and v.Character and v.Character:FindFirstChild("HumanoidRootPart") and v.Character.Humanoid.Health > 0 then
            local m = (_LP.Character.HumanoidRootPart.Position - v.Character.HumanoidRootPart.Position).Magnitude
            if m < d then d = m t = v.Character end
        end
    end
    return t
end

task.spawn(function()
    _RUN.RenderStepped:Connect(function()
        pcall(function()
            local t = _GetTarget()
            if t and _LP.Character then
                local tool = _LP.Character:FindFirstChildOfClass("Tool")
                if tool then
                    local h = tool:FindFirstChild("Handle") or tool:FindFirstChild("Hitbox")
                    if h then
                        h.CFrame = t.HumanoidRootPart.CFrame
                        firetouchinterest(t.HumanoidRootPart, h, 0)
                        firetouchinterest(t.HumanoidRootPart, h, 1)
                    end
                end
                if _LP.Character:FindFirstChild("Attacking") or _LP.Character:FindFirstChild("Punching") or _LP.Character:FindFirstChild("Skill") then
                    _RS.Events.Damage:FireServer(t.Humanoid, t.HumanoidRootPart.CFrame)
                end
            end
        end)
    end)
end)

task.spawn(function()
    while task.wait(0.1) do
        if _0xO.AutoFixGen.Value then
            pcall(function()
                for _, v in pairs(_WS:GetChildren()) do
                    if v.Name == "Generator " and v:FindFirstChild("HumanoidRootPart") then
                        _LP.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
                        for i = 1, 4 do
                            _RS.Events.Interact:FireServer(v)
                            task.wait(_0xO.GenDelay.Value)
                            _RS.Events.CompleteGen:FireServer()
                        end
                    end
                end
            end)
        end
    end
end)

task.spawn(function()
    while task.wait() do
        pcall(function()
            local ws = tonumber(_0xO.WalkSpeed.Value) or 24
            if _LP.Character and _LP.Character.Humanoid then _LP.Character.Humanoid.WalkSpeed = ws end
        end)
    end
end)

Tabs.Info:Select()
